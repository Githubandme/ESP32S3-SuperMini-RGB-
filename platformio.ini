; PlatformIO Project Configuration File for ESP32S3 SuperMini RGB Control
;
; This file configures the ESP32S3 SuperMini board for PlatformIO users.
; If you prefer PlatformIO over Arduino IDE, use this configuration.
;
; Usage:
; 1. Install PlatformIO (VS Code extension or CLI)
; 2. Open this project folder in PlatformIO
; 3. Build and upload
;
; Learn more: https://docs.platformio.org/page/projectconf.html

[platformio]
; Uncomment to specify which sketch to build (default is main project)
; src_dir = ESP32S3_RGB_Control
; Or build an example:
; src_dir = examples/Basic_Test

[env:esp32s3-supermini]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Board configuration
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L
board_build.flash_mode = qio
board_build.partitions = default.csv

; USB Configuration for ESP32-S3
board_build.arduino.memory_type = qio_opi
build_flags = 
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1

; Upload configuration
upload_speed = 921600
monitor_speed = 115200

; Required libraries
lib_deps = 
    adafruit/Adafruit NeoPixel@^1.11.0

[env:esp32s3-mqtt]
extends = env:esp32s3-supermini
; Additional library for MQTT example
lib_deps = 
    ${env:esp32s3-supermini.lib_deps}
    knolleary/PubSubClient@^2.8

[env:esp32s3-homeassistant]
extends = env:esp32s3-supermini
; Additional libraries for Home Assistant example
lib_deps = 
    ${env:esp32s3-supermini.lib_deps}
    knolleary/PubSubClient@^2.8
    bblanchon/ArduinoJson@^6.21.3

; Debug configuration (optional)
[env:esp32s3-debug]
extends = env:esp32s3-supermini
build_type = debug
build_flags = 
    ${env:esp32s3-supermini.build_flags}
    -DCORE_DEBUG_LEVEL=5
monitor_filters = esp32_exception_decoder
